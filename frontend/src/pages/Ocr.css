/* ====================================
   OCR Page â€” Glass UI (uses tokens from index.css)
   ==================================== */

/* Do NOT reset body here; global tokens handle it */

/* Container */
.ocr-container {
  width: min(1100px, 92vw);
  margin: clamp(24px, 6vw, 50px) auto;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow);
  padding: clamp(20px, 4vw, 36px);
  backdrop-filter: blur(var(--blur)) saturate(1.05);
  -webkit-backdrop-filter: blur(var(--blur)) saturate(1.05);
}

.ocr-container h1 {
  text-align: center;
  margin-bottom: 22px;
  color: var(--text);
  font-size: clamp(20px, 3.4vw, 28px);
  letter-spacing: -0.2px;
}

/* Layout */
.content-container {
  display: grid;
  gap: clamp(14px, 3vw, 24px);
  grid-template-columns: 1fr 1fr;
}

@media (max-width: 860px) {
  .content-container {
    grid-template-columns: 1fr;
  }
}

/* Panels */
.upload-section,
.result-container {
  min-width: 280px;
  background: var(--surface-2);
  padding: clamp(14px, 2.4vw, 20px);
  border-radius: var(--radius);
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  backdrop-filter: blur(calc(var(--blur) * 0.75)) saturate(1.05);
  -webkit-backdrop-filter: blur(calc(var(--blur) * 0.75)) saturate(1.05);
}

/* Upload */
.upload-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 12px;
}

/* Hide native input */
input[type="file"] {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* File button (label) */
.custom-file-upload {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;

  padding: 12px 20px;
  cursor: pointer;
  border-radius: 12px;

  background: linear-gradient(
    180deg,
    color-mix(in oklab, var(--accent), white 8%),
    color-mix(in oklab, var(--accent), black 6%)
  );
  color: var(--accent-ink);
  border: 1px solid color-mix(in oklab, var(--accent), black 25%);
  box-shadow: var(--shadow);
  backdrop-filter: blur(calc(var(--blur) * 0.5));
  -webkit-backdrop-filter: blur(calc(var(--blur) * 0.5));

  transition: filter var(--dur) var(--ease), transform var(--dur) var(--ease), border-color var(--dur) var(--ease);
}
.custom-file-upload:hover {
  filter: brightness(1.06);
  transform: translateY(-1px);
  border-color: color-mix(in oklab, var(--accent), black 30%);
}

/* Generic buttons scoped to OCR container to avoid global overrides */
.ocr-container button {
  -webkit-appearance: none;
  appearance: none;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 18px;
  font-size: 16px;
  font-weight: 700;
  cursor: pointer;

  background: var(--surface);
  color: var(--text);
  box-shadow: var(--shadow);
  backdrop-filter: blur(calc(var(--blur) * 0.5));
  -webkit-backdrop-filter: blur(calc(var(--blur) * 0.5));

  transition: transform var(--dur) var(--ease),
              border-color var(--dur) var(--ease),
              background var(--dur) var(--ease),
              filter var(--dur) var(--ease);
}
.ocr-container button:hover {
  transform: translateY(-1px);
  border-color: color-mix(in oklab, var(--accent), black 22%);
  filter: brightness(1.02);
}
.ocr-container button:active {
  transform: translateY(0);
}
.ocr-container button:disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

/* Primary action (e.g., Run OCR) */
.ocr-container .primary-action {
  background: linear-gradient(
    180deg,
    color-mix(in oklab, var(--accent), white 10%),
    color-mix(in oklab, var(--accent), black 6%)
  );
  color: var(--accent-ink);
  border: 1px solid color-mix(in oklab, var(--accent), black 25%);
}
.ocr-container .primary-action:hover {
  filter: brightness(1.06);
  border-color: color-mix(in oklab, var(--accent), black 30%);
}

/* Copy button variant */
.copy-button {
  background: linear-gradient(180deg, color-mix(in oklab, var(--accent), white 18%), color-mix(in oklab, var(--accent), black 2%));
  color: var(--accent-ink);
  border: 1px solid color-mix(in oklab, var(--accent), black 20%);
}
.copy-button:hover {
  filter: brightness(1.05);
}

/* Image preview */
.image-preview {
  max-width: 100%;
  max-height: 220px;
  border-radius: var(--radius);
  margin-bottom: 10px;
  object-fit: cover;
  box-shadow: 0 8px 24px hsla(220 40% 2% / 0.18);
  background: var(--surface);
  border: 1px solid var(--border);
  padding: 6px; /* gives a framed look for transparency */
}

/* Results */
.result-container h2 {
  margin-bottom: 10px;
  color: var(--text);
  text-align: center;
  font-size: clamp(16px, 2.6vw, 18px);
}

.result-container p {
  white-space: pre-wrap;
  color: var(--text);
  line-height: 1.6;

  background: var(--surface);
  padding: 14px;
  border-radius: 12px;
  min-height: 220px;
  overflow-y: auto;
  border: 1px solid var(--border);
  box-shadow: inset 0 2px 6px hsla(220 40% 2% / 0.06);
}

/* Scrollbar (WebKit) for result area */
.result-container p::-webkit-scrollbar {
  width: 10px;
}
.result-container p::-webkit-scrollbar-thumb {
  background: color-mix(in oklab, var(--accent), black 30%);
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
.result-container p::-webkit-scrollbar-track {
  background: transparent;
}

/* Typing title caret */
.typing-title {
  display: inline-block;
  border-right: 2px solid var(--text);
  white-space: nowrap;
  overflow: hidden;
  animation: caretBlink var(--dur-slow) steps(1, end) infinite;
}
@keyframes caretBlink {
  50% { border-color: transparent; }
}

/* ===========================
   High-Contrast Tweaks
   =========================== */
html[data-theme="hc"] .ocr-container,
body[data-theme="hc"] .ocr-container,
html[data-theme="hc"] .upload-section,
body[data-theme="hc"] .upload-section,
html[data-theme="hc"] .result-container,
body[data-theme="hc"] .result-container,
html[data-theme="hc"] .image-preview {
  box-shadow: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  border-width: 2px;
}

/* ===========================
   Reduced Motion
   =========================== */
@media (prefers-reduced-motion: reduce) {
  .custom-file-upload:hover,
  .ocr-container button:hover {
    transform: none;
  }
  .typing-title {
    animation: none;
  }
}
